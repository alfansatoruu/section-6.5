Buat dulu jaringan quotes-net dengan perintah:
  podman network create quotes-net

Setelah jaringan berhasil dibuat, jalankan ulang perintah podman run Anda:
  podman run -d --name quotes-api-v1 --network quotes-net \
    registry.ocp4.example.com:8443/redhattraining/wiremock

Perintah untuk Membuat quotes-api-v2:
  podman run -d --name quotes-api-v2 --network quotes-net \
    -p 8081:8080 \
    registry.ocp4.example.com:8443/redhattraining/wiremock

  Langkah-langkah Membuat nginx.conf:
        Masuk ke direktori yang sesuai:
                                      cd ~/DO188/labs/troubleshooting-lab/
        Jika direktori belum ada, buat dulu dengan:
                                      mkdir -p ~/DO188/labs/troubleshooting-lab/

  Buat file nginx.conf:nano nginx.conf

  isi file nginx dengan:
  events {}
  http {
      upstream quotes-api-v1 {
          server quotes-api-v1:8080;
      }
      upstream quotes-api-v2 {
          server quotes-api-v2:8081;
      }
      server {
          listen 8080;
  
          location /api/v1/quotes {
              proxy_pass http://quotes-api-v1;
          }
          location /api/v2/quotes {
              proxy_pass http://quotes-api-v2;
          }
      }
  }


Simpan file.
Jika menggunakan nano, tekan:
Ctrl + O untuk menyimpan
Enter untuk konfirmasi
Ctrl + X untuk keluar

Jalankan Container quotes-ui:
  podman run -d --name quotes-ui -p 3000:8080 --network quotes-net \
  -e QUOTES_API_VERSION=v2 \
  -v ~/DO188/labs/troubleshooting-lab/nginx.conf:/etc/nginx/nginx.conf:Z \
  registry.ocp4.example.com:8443/redhattraining/quotes-ui-versioning:1.0

  Verifikasi:podman ps

periks log container:
  podman logs quotes-ui
  podman logs quotes-api-v1
  podman logs quotes-api-v2

Akses web app:
Buka browser dan buka:
http://localhost:3000
